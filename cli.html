<!DOCTYPE html><html id=maincontent><head><meta charset=UTF-8><link rel=stylesheet href=css/api.css></head><body class="alt apidoc" id=api-section-cli><div id=content class=clearfix><div id=column2 class=interior><div id=intro class=interior><a href=http://nodejs.cn/ >Node.js 中文网</a><div><input placeholder="API 快速搜索" id=search_input></div></div><ul><li><a class=nav-assert href=assert.html>assert - 断言</a></li><li><a class=nav-buffer href=buffer.html>Buffer - 缓冲器</a></li><li><a class=nav-child_process href=child_process.html>child_process - 子进程</a></li><li><a class=nav-cluster href=cluster.html>cluster - 集群</a></li><li><a class=nav-console href=console.html>console - 控制台</a></li><li><a class=nav-crypto href=crypto.html>crypto - 加密</a></li><li><a class=nav-dgram href=dgram.html>dgram - 数据报</a></li><li><a class=nav-dns href=dns.html>dns - 域名服务器</a></li><li><a class=nav-errors href=errors.html>Error - 异常</a></li><li><a class=nav-events href=events.html>events - 事件</a></li><li><a class=nav-fs href=fs.html>fs - 文件系统</a></li><li><a class=nav-globals href=globals.html>global - 全局变量</a></li><li><a class=nav-http href=http.html>http - HTTP</a></li><li><a class=nav-https href=https.html>https - HTTPS</a></li><li><a class=nav-modules href=modules.html>module - 模块</a></li><li><a class=nav-net href=net.html>net - 网络</a></li><li><a class=nav-os href=os.html>os - 操作系统</a></li><li><a class=nav-path href=path.html>path - 路径</a></li><li><a class=nav-process href=process.html>process - 进程</a></li><li><a class=nav-querystring href=querystring.html>querystring - 查询字符串</a></li><li><a class=nav-readline href=readline.html>readline - 逐行读取</a></li><li><a class=nav-repl href=repl.html>repl - 交互式解释器</a></li><li><a class=nav-stream href=stream.html>stream - 流</a></li><li><a class=nav-string_decoder href=string_decoder.html>string_decoder - 字符串解码器</a></li><li><a class=nav-timers href=timers.html>timer - 定时器</a></li><li><a class=nav-tls href=tls.html>tls - 安全传输层</a></li><li><a class=nav-tty href=tty.html>tty - 终端</a></li><li><a class=nav-url href=url.html>url - 网址</a></li><li><a class=nav-util href=util.html>util - 实用工具</a></li><li><a class=nav-v8 href=v8.html>v8 - V8引擎</a></li><li><a class=nav-vm href=vm.html>vm - 虚拟机</a></li><li><a class=nav-zlib href=zlib.html>zlib - 压缩</a></li></ul><div class=line></div><ul><li><a class=nav--api-documentation-documentation_stability_index href=documentation.html>试验的API</a></li><li><a class=nav-async_hooks href=async_hooks.html>async_hooks</a></li><li><a class=nav-http2 href=http2.html>http2</a></li><li><a class=nav-inspector href=inspector.html>inspector</a></li><li><a class=nav-n-api href=n-api.html>napi</a></li></ul><div class=line></div><ul><li><a class=nav-documentation href=documentation.html>关于本文档</a></li><li><a class=nav-synopsis href=synopsis.html>用法与例子</a></li><li><a class=nav-addons href=addons.html>C++插件</a></li><li><a class=nav-cli href=cli.html>命令行选项</a></li><li><a class=nav-debugger href=debugger.html>debugger调试器</a></li><li><a class=nav-intl href=intl.html>国际化</a></li><li><a class=nav-tracing href=tracing.html>事件跟踪</a></li></ul></div><div id=column1 class="vs interior" data-id=cli><div id=apicontent><h1 id=command-line-options>Command Line Options</h1><p>Node.js 自带了各种命令行选项。 这些选项开放了内置的调试、执行脚本的多种方式、以及其他有用的运行时选项。</p><p>运行 <code>man node</code> 可在一个终端中查看操作手册。</p><h2 id=synopsis>Synopsis</h2><p><code>node [options] [v8 options] [script.js | -e &quot;script&quot; | -] [--] [arguments]</code></p><p><code>node debug [script.js | -e &quot;script&quot; | &lt;host&gt;:&lt;port&gt;] …</code></p><p><code>node --v8-options</code></p><p>执行时不带参数，会启动 <a href=repl.html>REPL</a>。</p><p>关于 <code>node debug</code> 的更多信息，详见<a href=debugger.html>调试器</a>文档。</p><h2 id=options>Options</h2><h3 id=-v-version-><code>-v</code>, <code>--version</code></h3><p>Print node&#39;s version.</p><h3 id=-h-help-><code>-h</code>, <code>--help</code></h3><p>打印 node 的命令行选项。 此选项的输出不如本文档详细。</p><h3 id=-e-eval-script-><code>-e</code>, <code>--eval &quot;script&quot;</code></h3><p>把跟随的参数作为 JavaScript 来执行。 在 REPL 中预定义的模块也可以在 <code>script</code> 中使用。</p><h3 id=-p-print-script-><code>-p</code>, <code>--print &quot;script&quot;</code></h3><p>与 <code>-e</code> 相同，但会打印结果。</p><h3 id=-c-check-><code>-c</code>, <code>--check</code></h3><p>在不执行的情况下，对脚本进行语法检查。</p><h3 id=-i-interactive-><code>-i</code>, <code>--interactive</code></h3><p>打开 REPL，即使 stdin 看起来不像终端。</p><h3 id=-r-require-module-><code>-r</code>, <code>--require module</code></h3><p>在启动时预加载指定的模块。</p><p>遵循 <code>require()</code> 的模块解析规则。 <code>module</code> 可以是一个文件的路径，或一个 node 模块名称。</p><h3 id=-inspect-host-port-><code>--inspect[=[host:]port]</code></h3><p>在主机端口上激活检查器。默认为127.0.0.1:9229。</p><p>V8检查器集成允许Chrome DevTools和IDE等工具调试和配置Node.js实例。 这些工具通过tcp端口附加到Node.js实例，并使用<a href=https://chromedevtools.github.io/debugger-protocol-viewer>Chrome Debugging Protocol</a>调试协议进行通信.</p><h3 id=-inspect-brk-host-port-><code>--inspect-brk[=[host:]port]</code></h3><p>Activate inspector on host:port and break at start of user script. Default host:port is 127.0.0.1:9229.</p><h3 id=-inspect-port-host-port-><code>--inspect-port=[host:]port</code></h3><p>Set the host:port to be used when the inspector is activated. Useful when activating the inspector by sending the <code>SIGUSR1</code> signal.</p><p>Default host is 127.0.0.1.</p><h3 id=-no-deprecation-><code>--no-deprecation</code></h3><p>静默废弃的警告。</p><h3 id=-trace-deprecation-><code>--trace-deprecation</code></h3><p>打印废弃的堆栈跟踪。</p><h3 id=-throw-deprecation-><code>--throw-deprecation</code></h3><p>抛出废弃的错误。</p><h3 id=-pending-deprecation-><code>--pending-deprecation</code></h3><p>Emit pending deprecation warnings.</p><p><em>Note</em>: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned <em>off</em> by default and will not be emitted unless either the <code>--pending-deprecation</code> command line flag, or the <code>NODE_PENDING_DEPRECATION=1</code> environment variable, is set. Pending deprecations are used to provide a kind of selective &quot;early warning&quot; mechanism that developers may leverage to detect deprecated API usage.</p><h3 id=-no-warnings-><code>--no-warnings</code></h3><p>静默一切进程警告（包括废弃警告）。</p><h3 id=-expose-http2-><code>--expose-http2</code></h3><p>Enable the experimental <code>&#39;http2&#39;</code> module.</p><h3 id=-napi-modules-><code>--napi-modules</code></h3><p>Enable loading native modules compiled with the ABI-stable Node.js API (N-API) (experimental).</p><h3 id=-abort-on-uncaught-exception-><code>--abort-on-uncaught-exception</code></h3><p>Aborting instead of exiting causes a core file to be generated for post-mortem analysis using a debugger (such as <code>lldb</code>, <code>gdb</code>, and <code>mdb</code>).</p><h3 id=-trace-warnings-><code>--trace-warnings</code></h3><p>打印进程警告的堆栈跟踪（包括废弃警告）。</p><h3 id=-redirect-warnings-file-><code>--redirect-warnings=file</code></h3><p>Write process warnings to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead.</p><h3 id=-trace-sync-io-><code>--trace-sync-io</code></h3><p>每当事件循环的第一帧之后检测到同步 I/O 时，打印堆栈跟踪。</p><h3 id=-trace-events-enabled-><code>--trace-events-enabled</code></h3><p>Enables the collection of trace event tracing information.</p><h3 id=-trace-event-categories-><code>--trace-event-categories</code></h3><p>A comma separated list of categories that should be traced when trace event tracing is enabled using <code>--trace-events-enabled</code>.</p><h3 id=-zero-fill-buffers-><code>--zero-fill-buffers</code></h3><p>自动用 0 填充所有新分配的 <a href=buffer.html#buffer_buffer>Buffer</a> 和 <a href=buffer.html#buffer_class_slowbuffer>SlowBuffer</a> 实例。</p><h3 id=-preserve-symlinks-><code>--preserve-symlinks</code></h3><p>当解析和缓存模块时，命令模块加载器保持符号连接。</p><p>默认情况下，当 Node.js 从一个被符号连接到另一块磁盘位置的路径加载一个模块时，Node.js 会解引用该连接，并使用模块的真实磁盘的实际路径，作为定位其他依赖模块的标识符和根路径。 大多数情况下，默认行为是可接受的。 但是，当使用符号连接的同行依赖，如下例子所描述的，如果 <code>moduleA</code> 试图引入 <code>moduleB</code> 作为一个同行依赖，默认行为就会抛出异常：</p><pre><code class=lang-text>{appDir}
 ├── app
 │   ├── index.js
 │   └── node_modules
 │       ├── moduleA -&gt; {appDir}/moduleA
 │       └── moduleB
 │           ├── index.js
 │           └── package.json
 └── moduleA
     ├── index.js
     └── package.json
</code></pre><p><code>--preserve-symlinks</code> 命令行标志命令 Node.js 使用模块的符号路径而不是真实路径，是符号连接的同行依赖能被找到。</p><p>注意，使用 <code>--preserve-symlinks</code> 会有其他方面的影响。 比如，如果符号连接的原生模块在依赖树里来自超过一个位置，它们会加载失败。 （Node.js 会将它们视为两个独立的模块，且会试图多次加载模块，造成抛出异常。）</p><h3 id=-track-heap-objects-><code>--track-heap-objects</code></h3><p>为堆快照追踪堆栈对象的分配。</p><h3 id=-prof-process-><code>--prof-process</code></h3><p>处理 v8 分析器的输出，通过使用 v8 选项 <code>--prof</code> 生成。</p><h3 id=-v8-options-><code>--v8-options</code></h3><p>打印 v8 命令行选项。</p><p>注意，V8 选项允许单词使用破折号（<code>-</code>）或下划线（<code>_</code>）分隔。</p><p>例如，<code>--stack-trace-limit</code> 等同于 <code>--stack_trace_limit</code>。</p><h3 id=-tls-cipher-list-list-><code>--tls-cipher-list=list</code></h3><p>指定备用的默认 TLS 加密列表。 （需要 Node.js 被构建为支持加密。（默认））</p><h3 id=-enable-fips-><code>--enable-fips</code></h3><p>启动时启用符合 FIPS 标准的加密。 （需要 Node.js 使用 <code>./configure --openssl-fips</code> 构建）</p><h3 id=-force-fips-><code>--force-fips</code></h3><p>启动时强制使用符合 FIPS 标准的加密。 （无法通过脚本代码禁用。） （要求同 <code>--enable-fips</code>）</p><h3 id=-openssl-config-file-><code>--openssl-config=file</code></h3><p>启动时加载 OpenSSL 配置文件。 在其他用途中，如果 Node.js 使用 <code>./configure --openssl-fips</code> 构建，它可以用于启用符合 FIPS 标准的加密。</p><h3 id=-use-openssl-ca-use-bundled-ca-><code>--use-openssl-ca</code>, <code>--use-bundled-ca</code></h3><p>Use OpenSSL&#39;s default CA store or use bundled Mozilla CA store as supplied by current Node.js version. The default store is selectable at build-time.</p><p>Using OpenSSL store allows for external modifications of the store. For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators. OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.</p><p>The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time. It is identical on all supported platforms.</p><p>See <code>SSL_CERT_DIR</code> and <code>SSL_CERT_FILE</code>.</p><h3 id=-icu-data-dir-file-><code>--icu-data-dir=file</code></h3><p>指定 ICU 数据的加载路径。 （覆盖 <code>NODE_ICU_DATA</code>）</p><h3 id=-><code>-</code></h3><p>Alias for stdin, analogous to the use of - in other command line utilities, meaning that the script will be read from stdin, and the rest of the options are passed to that script.</p><h3 id=-><code>--</code></h3><p>Indicate the end of node options. Pass the rest of the arguments to the script. If no script filename or eval/print script is supplied prior to this, then the next argument will be used as a script filename.</p><h2 id=environment-variables>Environment Variables</h2><h3 id=-node_debug-module-><code>NODE_DEBUG=module[,…]</code></h3><p>以 <code>&#39;,&#39;</code> 分隔的应该打印调试信息的核心模块列表。</p><h3 id=-node_path-path-><code>NODE_PATH=path[:…]</code></h3><p>以 <code>&#39;:&#39;</code> 分隔的有模块搜索路径作前缀的目录列表。</p><p>注意，在 Windows 中，列表是用 <code>&#39;;&#39;</code> 分隔的。</p><h3 id=-node_disable_colors-1-><code>NODE_DISABLE_COLORS=1</code></h3><p>当设为 <code>1</code> 时，不会在 REPL 中使用颜色。</p><h3 id=-node_icu_data-file-><code>NODE_ICU_DATA=file</code></h3><p>ICU（Intl 对象）数据的数据路径。 当使用 <code>small-icu</code> 编译时，扩展链接的数据。</p><h3 id=-node_no_warnings-1-><code>NODE_NO_WARNINGS=1</code></h3><p>When set to <code>1</code>, process warnings are silenced.</p><h3 id=-node_options-options-><code>NODE_OPTIONS=options...</code></h3><p>A space-separated list of command line options. <code>options...</code> are interpreted as if they had been specified on the command line before the actual command line (so they can be overridden). Node will exit with an error if an option that is not allowed in the environment is used, such as <code>-p</code> or a script file.</p><p>Node options that are allowed are:</p><ul><li><code>--enable-fips</code></li><li><code>--force-fips</code></li><li><code>--icu-data-dir</code></li><li><code>--inspect-brk</code></li><li><code>--inspect-port</code></li><li><code>--inspect</code></li><li><code>--napi-modules</code></li><li><code>--no-deprecation</code></li><li><code>--no-warnings</code></li><li><code>--openssl-config</code></li><li><code>--redirect-warnings</code></li><li><code>--require</code>, <code>-r</code></li><li><code>--throw-deprecation</code></li><li><code>--tls-cipher-list</code></li><li><code>--trace-deprecation</code></li><li><code>--trace-events-categories</code></li><li><code>--trace-events-enabled</code></li><li><code>--trace-sync-io</code></li><li><code>--trace-warnings</code></li><li><code>--track-heap-objects</code></li><li><code>--use-bundled-ca</code></li><li><code>--use-openssl-ca</code></li><li><code>--v8-pool-size</code></li><li><code>--zero-fill-buffers</code></li></ul><p>V8 options that are allowed are:</p><ul><li><code>--abort-on-uncaught-exception</code></li><li><code>--max-old-space-size</code></li></ul><h3 id=-node_pending_deprecation-1-><code>NODE_PENDING_DEPRECATION=1</code></h3><p>When set to <code>1</code>, emit pending deprecation warnings.</p><p><em>Note</em>: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned <em>off</em> by default and will not be emitted unless either the <code>--pending-deprecation</code> command line flag, or the <code>NODE_PENDING_DEPRECATION=1</code> environment variable, is set. Pending deprecations are used to provide a kind of selective &quot;early warning&quot; mechanism that developers may leverage to detect deprecated API usage.</p><h3 id=-node_preserve_symlinks-1-><code>NODE_PRESERVE_SYMLINKS=1</code></h3><p>When set to <code>1</code>, instructs the module loader to preserve symbolic links when resolving and caching modules.</p><h3 id=-node_repl_history-file-><code>NODE_REPL_HISTORY=file</code></h3><p>用于存储持久性的 REPL 历史记录的文件的路径。 默认路径是 <code>~/.node_repl_history</code>，可被该变量覆盖。 将值设为空字符串（<code>&quot;&quot;</code> 或 <code>&quot; &quot;</code>）会禁用持久性的 REPL 历史记录。</p><h3 id=-node_extra_ca_certs-file-><code>NODE_EXTRA_CA_CERTS=file</code></h3><p>当设置了此选项时，根 CA 证书（如 VeriSign）会被 <code>file</code> 指定的证书扩展。 文件应该包括一个或多个可信的 PEM 格式的证书。 如果文件丢失或有缺陷，则 <a href=process.html#process_process_emitwarning_warning_type_code_ctor><code>process.emitWarning()</code></a> 会触发一个消息。</p><p>注意，当一个 TLS 或 HTTPS 的客户端或服务器的 <code>ca</code> 选项的属性被显式地指定时，则指定的证书不会被使用。</p><h3 id=-openssl_conf-file-><code>OPENSSL_CONF=file</code></h3><p>Load an OpenSSL configuration file on startup. Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with <code>./configure --openssl-fips</code>.</p><p>If the <a href=#cli_openssl_config_file><code>--openssl-config</code></a> command line option is used, the environment variable is ignored.</p><h3 id=-ssl_cert_dir-dir-><code>SSL_CERT_DIR=dir</code></h3><p>If <code>--use-openssl-ca</code> is enabled, this overrides and sets OpenSSL&#39;s directory containing trusted certificates.</p><p><em>Note</em>: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.</p><h3 id=-ssl_cert_file-file-><code>SSL_CERT_FILE=file</code></h3><p>If <code>--use-openssl-ca</code> is enabled, this overrides and sets OpenSSL&#39;s file containing trusted certificates.</p><p><em>Note</em>: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.</p><h3 id=-node_redirect_warnings-file-><code>NODE_REDIRECT_WARNINGS=file</code></h3><p>When set, process warnings will be emitted to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead. This is equivalent to using the <code>--redirect-warnings=file</code> command-line flag.</p><h3 id=-uv_threadpool_size-size-><code>UV_THREADPOOL_SIZE=size</code></h3><p>Set the number of threads used in libuv&#39;s threadpool to <code>size</code> threads.</p><p>Asynchronous system APIs are used by Node.js whenever possible, but where they do not exist, libuv&#39;s threadpool is used to create asynchronous node APIs based on synchronous system APIs. Node.js APIs that use the threadpool are:</p><ul><li>all <code>fs</code> APIs, other than the file watcher APIs and those that are explicitly synchronous</li><li><code>crypto.pbkdf2()</code></li><li><code>crypto.randomBytes()</code>, unless it is used without a callback</li><li><code>crypto.randomFill()</code></li><li><code>dns.lookup()</code></li><li>all <code>zlib</code> APIs, other than those that are explicitly synchronous</li></ul><p>Because libuv&#39;s threadpool has a fixed size, it means that if for whatever reason any of these APIs takes a long time, other (seemingly unrelated) APIs that run in libuv&#39;s threadpool will experience degraded performance. In order to mitigate this issue, one potential solution is to increase the size of libuv&#39;s threadpool by setting the <code>&#39;UV_THREADPOOL_SIZE&#39;</code> environment variable to a value greater than <code>4</code> (its current default value). For more information, see the [libuv threadpool documentation][].</p></div></div></div></body><script src=js/all.js></script></html>